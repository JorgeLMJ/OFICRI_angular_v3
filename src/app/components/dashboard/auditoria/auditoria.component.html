<div class="container mt-4">
  <h2 class="text-primary mb-4">üìã Bit√°cora de Auditor√≠a</h2>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-2 text-muted">Cargando registros...</p>
  </div>

  <!-- Tabla -->
  <div class="table-responsive" *ngIf="!loading && auditorias.length > 0">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>Usuario</th>
          <th>Acci√≥n</th>
          <th>Tipo</th>
          <th>Entidad</th>
          <th>Fecha</th>
          <th>Detalles</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let a of auditorias">
          <td>{{ a.nombreUsuario }}</td>
          <td><span class="badge bg-secondary">{{ a.accion }}</span></td>
          <td>
            <span [class]="'badge ' + (
              a.tipoAccion === 'CREATE' ? 'bg-success' :
              a.tipoAccion === 'UPDATE' ? 'bg-warning' :
              'bg-danger'
            )">
              {{ a.tipoAccion }}
            </span>
          </td>
          <td>{{ a.entidad }} #{{ a.entidadId }}</td>
          <td>{{ a.fecha | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>
            <button class="btn btn-sm btn-outline-info" (click)="verDetalles(a.detalles)">
              Ver
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Sin datos -->
  <div *ngIf="!loading && auditorias.length === 0" class="text-center py-5">
    <i class="bi bi-journal-text display-4 text-muted mb-3"></i>
    <h5>No hay registros de auditor√≠a</h5>
  </div>
</div>